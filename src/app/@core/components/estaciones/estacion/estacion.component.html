<div *ngIf="isLoading === false && httpErr === false">
    <mat-tab-group style="transition-duration: 5000ms;">

        <mat-tab label="ESTACIÓN">
            <div class="content">
                <mat-list>
                    <mat-list-item>
                        <span mat-line class="m-t-dataStations"> Estación </span>
                        <span mat-subheader class="m-t-dataStations-attribute" >{{stationData.nombre}}</span>
                    </mat-list-item>
                    <mat-divider></mat-divider>
                    <mat-list-item>
                        <span mat-line class="m-t-dataStations"> Ubicación </span>
                        <span mat-subheader class="m-t-dataStations-attribute" >Campo Anexo</span>
                    </mat-list-item>
                    <mat-divider></mat-divider>
                    <mat-list-item>
                        <span mat-line class="m-t-dataStations"> Localidad </span>
                        <span mat-subheader class="m-t-dataStations-attribute" >{{stationData.localidad}}</span>
                    </mat-list-item>
                    <mat-divider></mat-divider>
                    <mat-list-item>
                        <span mat-line class="m-t-dataStations"> Departamento </span>
                        <span mat-subheader class="m-t-dataStations-attribute" >{{stationData.departamento}}</span>
                    </mat-list-item>
                    <mat-divider></mat-divider>    
                </mat-list>
            </div>
        </mat-tab>

        <mat-tab label="ULTIMA INFORMACIÓN" *ngIf="this.respData === true; else noData"> 
            <div class="content">
                <mat-card>
                    <mat-grid-list cols="2" rowHeight="35px" >
                        <mat-grid-tile>
                            <figure class="mat-figure m-g-t-ultinfo-fc" >
                                <img src="assets/images/icons_modal/temp_icon_w.png" alt="icono_temp_ambiente">
                                <strong>TEMPERATURA</strong>
                            </figure>
                        </mat-grid-tile>
                        <mat-grid-tile>
                            <figure class="mat-figure m-g-t-ultinfo-sc" >
                                {{last_data_day['temperaturaAmbiente']}}°C
                            </figure>
                        </mat-grid-tile>
                    </mat-grid-list>
                </mat-card>
                <mat-card style="margin-top: 5px;">
                    <mat-grid-list cols="2" rowHeight="35px" >
                        <mat-grid-tile>
                            <figure class="mat-figure m-g-t-ultinfo-fc" >
                                <img src="assets/images/icons_modal/hum_icon_w.png" alt="icono_porc_humedad">
                                <strong>HUMEDAD<br><span style="font-size: 12px; color: white;">Ambiente/Suelo</span></strong>
                            </figure>
                        </mat-grid-tile>
                        <mat-grid-tile>
                            <figure class="mat-figure m-g-t-ultinfo-sc" >
                                {{last_data_day['humedadAmbiente']}}% / {{last_data_day['humedadSuelo']}}%
                            </figure>
                        </mat-grid-tile>
                    </mat-grid-list>
                </mat-card>
                <mat-card style="margin-top: 5px;">
                    <mat-grid-list cols="2" rowHeight="35px" >
                        <mat-grid-tile>
                            <figure class="mat-figure m-g-t-ultinfo-fc" >
                                <img src="assets/images/icons_modal/wind_icon_w.png" alt="icono_vel_viento">
                                <strong>VIENTO</strong>
                            </figure>
                        </mat-grid-tile>
                        <mat-grid-tile>
                            <figure class="mat-figure m-g-t-ultinfo-sc" >
                                <img src="{{src_d_wind}}" style="margin-right: 3px; width: 21px!important;">
                                {{last_data_day['viento']}}
                                <span class="unity-data">km/h</span>
                            </figure>
                        </mat-grid-tile>
                    </mat-grid-list>
                </mat-card>
                <mat-card style="margin-top: 5px;">
                    <mat-grid-list cols="2" rowHeight="35px" >
                        <mat-grid-tile>
                            <figure class="mat-figure m-g-t-ultinfo-fc" >
                                <img src="assets/images/icons_modal/lluvia.png" alt="icono_lluvia">
                                <strong>LLUVIA</strong>
                            </figure>
                        </mat-grid-tile>
                        <mat-grid-tile>
                            <figure class="mat-figure m-g-t-ultinfo-sc" >
                                {{last_data_day['lluvia']}}<span class="unity-data">%</span>
                            </figure>
                        </mat-grid-tile>
                    </mat-grid-list>
                </mat-card>
                <mat-card style="margin-top: 5px;">
                    <mat-grid-list cols="2" rowHeight="35px" >
                        <mat-grid-tile>
                            <figure class="mat-figure m-g-t-ultinfo-fc" >
                                <img src="assets/images/icons_modal/pp_icon_w.png" alt="icono_precipitacion">
                                <strong>PRECIPITACIÓN</strong>
                            </figure>
                        </mat-grid-tile>
                        <mat-grid-tile>
                            <figure class="mat-figure m-g-t-ultinfo-sc" >
                                {{last_data_day['precipitaciones']}}<span class="unity-data">(mm)</span>
                            </figure>
                        </mat-grid-tile>
                    </mat-grid-list>
                </mat-card>
                <mat-card style="margin-top: 5px;">
                    <mat-grid-list cols="2" rowHeight="35px" >
                        <mat-grid-tile>
                            <figure class="mat-figure m-g-t-ultinfo-fc" >
                                <mat-icon id="icon_uv">wb_sunny</mat-icon>
                                <strong>LUZ</strong>
                            </figure>
                        </mat-grid-tile>
                        <mat-grid-tile>
                            <figure class="mat-figure m-g-t-ultinfo-sc">
                                {{last_data_day['luz']}} de 10
                            </figure>
                        </mat-grid-tile>
                    </mat-grid-list>
                </mat-card>
            </div>
            <div fxLayout="row" fxLayout.lt-md="row" fxLayoutGap="0px" fxLayoutAlign="end" fxLayoutGap.lt-md="0px">
                <div fxflex class="content-u-act" *ngIf="last_data_day['fecha'] !== 0; else dateElse">
                    Ultima Actualización : {{ last_data_day['fecha'] | date:'dd/MM/yyyy HH:mm:ss':'UTC'}}
                </div>
                <ng-template #dateElse>
                    <div fxflex class="content-u-act">
                        Ultima Actualización : SIN DATOS
                    </div>
                </ng-template>
            </div>
        </mat-tab>
        <ng-template #noData>
            <mat-tab label="ULTIMA INFORMACIÓN">
                <div style="padding: 4px; margin-top: 5px; height: 20vh;">
                    <div style="position: absolute; top: 45%; left: 20%; font-size: 18px; color: gray;">
                    No hay datos disponibles
                    </div>
                </div>
            </mat-tab>
        </ng-template>

        <mat-tab label="DATOS DEL DÍA" *ngIf="this.respData === true; else noData">
            <app-tabla-datos [array_data]="array_data_weather"></app-tabla-datos>
        </mat-tab>
        <ng-template #noData> 
            <mat-tab label="DATOS DEL DÍA">
                <div style="padding: 4px; margin-top: 5px; height: 20vh;">
                    <div style="position: absolute; top: 45%; left: 20%; font-size: 18px; color: gray;">
                        No hay datos disponibles
                    </div>
                </div>
            </mat-tab>
        </ng-template>

        <mat-tab label="MÁS DATOS"> 
            <button mat-raised-button id="btn-advance-search" (click)="redirectDatos()">BUSCAR MÁS DATOS</button>
        </mat-tab>

    </mat-tab-group>
</div>


<div *ngIf="isLoading === true && httpErr === false">
    <mat-tab-group style="transition-duration: 5000ms;">
        <mat-tab label="ESPERANDO DATOS">
            <div style="padding: 4px; margin-top: 5px; height: 20vh;">
                <div style="width: 25px; position: absolute; top: 35%; left: 40%;">
                    <mat-spinner [diameter]="70"></mat-spinner>    
                </div>
            </div>
        </mat-tab>
    </mat-tab-group>
</div>


<div *ngIf="httpErr === true">
    <mat-tab-group style="transition-duration: 5000ms;">
        <mat-tab label="Sin Conexión">
            <div style="padding: 4px; margin-top: 5px; height: 20vh;">
                <div style=" position: absolute; top: 5%; left: 28%;">
                    <img src="assets/images/offline.png" style="width: 150px;" alt="sin-conexion">
                </div>
            </div>
        </mat-tab>
    </mat-tab-group>
</div>